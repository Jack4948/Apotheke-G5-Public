:project_name: Name des Projekts
:toc: left
:numbered:
= Pflichtenheft __{project_name}__

[options="header"]
[cols="1, 1, 1, 1, 4"]
|===
|Version | Status      | Bearbeitungsdatum   | Autoren(en) |  Vermerk
|0.1     | In Arbeit   | 01.04.2023          | Autor       | Initiale Version
|===

== Inhaltsverzeichnis
Dieses Dokument benötigt ein Inhaltsverzeichnis. Es existieren mehrere Einbindungsmöglichkeiten.

== Zusammenfassung
Eine kurze Beschreibung des Dokuments. Wenige Absätze.

== Aufgabenstellung und Zielsetzung
Text aus Aufgabenstellung kopieren und ggfs. präzisieren.
Insbesondere ergänzen, welche Ziele mit dem Abschluss des Projektes erreicht werden sollen.

== Produktnutzung
In welchem Kontext soll das System später genutzt werden? Welche Rahmenbedingungen gelten?
Zusätzlich kurze Einleitung für fachfremde Personen

== Interessensgruppen (Stakeholder)
Welche realen und juristischen Personen(-gruppen) haben Einfluss auf die Anforderungen im Projekt?

== Systemgrenze und Top-Level-Architektur

=== Kontextdiagramm
Das Kontextdiagramm zeigt das geplante Software-System in seiner Umgebung. Zur Umgebung gehören alle Nutzergruppen des Systems und Nachbarsysteme. Die Grafik kann auch informell gehalten sein. Überlegen Sie sich dann geeignete Symbole. Die Grafik kann beispielsweise mit Visio erstellt werden. Wenn nötig, erläutern Sie diese Grafik.

=== Top-Level-Architektur
Dokumentieren Sie ihre Top-Level-Architektur mit Hilfe eines Komponentendiagramm.

== Anwendungsfälle

=== Akteure
Die folgende Tabelle dokumentiert die Akteure des Apothekensystems basierend auf der Aufgabenstellung.
// See http://asciidoctor.org/docs/user-manual/#tables
[cols="1,3", options="header"]
|===
|*Name des Akteurs* |*Beschreibung*

|**Kunde   **    |Holt Medikamente an der Kasse ab, kann rezeptfreie Produkte selbst auswählen.
|**Arzt  **  |Bestellt Spezialpräparate im Labor, hat Zugang zum Medikamentenschrank.
|*Arzthelferin* |Verlässliche Arzthelferinnen haben Zugang zur Apotheke für die Arztpraxis.
|*Apothekenmitarbeiter* |Bedient Kunden, verwaltet Lager, führt Laborarbeiten durch.
|*Kassensystem* / Scanner |Erfasst Barcode, löst Bestellungen aus, erstellt Rechnungen.
|*Zentralkasse*  |Empfängt monatliche Abrechnungen der Kassenpatienten.
|*Apotheken-Computer* |Zentrale Steuerung für Nachbestellungen, Bilanz, Ablaufkontrolle.
|*Labor* |Bereitet individuelle Salben und Mischungen nach Arztanfrage.
|*Altersheim (zukünftig)* |Empfänger von Medikamenten im geplanten Auslieferservice.
|*Lieferservice / Bote*   |Bringt Medikamente zu Altenheim oder immobilen Patienten.
|*Patient (nicht mobil)*  |Empfängt Medikamente über den Lieferservice, z. B. im Altersheim.
|===





=== Überblick Anwendungsfalldiagramm
image::../../../PlantUML-Test/usecase.png[]


=== Anwendungsfallbeschreibungen

Im Mittelpunkt des Systems steht die Apotheke. Sie bietet eine Vielzahl von Funktionen, die von verschiedenen Akteuren genutzt werden.
Das Diagramm zeigt insbesondere:

1 -Einkauf und Abgabe von Medikamenten durch Kunden, einschließlich rezeptfreier und verschreibungspflichtiger Arzneimittel.

2 -Erweiterte medizinische Prozesse wie das Anfordern und Herstellen von Spezialpräparaten durch medizinisches Personal.

3 -Interne Verwaltung wie die Nachbestellung, Abrechnung und das Erkennen von verfallenen Medikamenten.


4 - Externe Abläufe wie die Medikamentenauslieferung an nicht mobile Patienten.

*Wichtige Anwendungsfälle:*

[cols="1,4", options="header"]
|===
|ID | UC001
|Name | Rezept einlösen
|Beschreibung | Der Kunde gibt ein Rezept beim Apothekenmitarbeiter ab. Das Medikament wird ausgegeben oder vorgemerkt, falls nicht vorrätig.
|Rollen | Kunde, Apothekenmitarbeiter, Apotheken-Computer
|Auslöser | Kunde übergibt ein Rezept
|Voraussetzungen | Rezept ist gültig und Medikament existiert im System
|Grundlegende Schritte |
. Kunde übergibt Rezept
. Apothekenmitarbeiter scannt Rezept
. System prüft Medikamentenverfügbarkeit
. Wenn vorhanden: Medikament wird ausgegeben
. Wenn nicht vorhanden: Medikament wird vorgemerkt und später ausgeliefert

. Zuzahlung wird berechnet (bei Kassenpatienten)
. Daten werden für Abrechnung gespeichert

|Funktionale Anforderungen | [F000]
|===


=== Anwendungsfallbeschreibung: Medikamente nachbestellen

[cols="1,4", options="header"]
|===
|ID | UC002
|Name | Medikamente nachbestellen
|Beschreibung | Scanner erkennt, dass ein Medikament bald leer ist, und markiert es zur Nachbestellung.
|Rollen | Apothekenmitarbeiter, Scanner, Apotheken-Computer
|Auslöser | Medikament wird gescannt
|Voraussetzungen | Medikament im System vorhanden
|Grundlegende Schritte |
. Medikament wird gescannt
. System erkennt niedrigen Bestand
. Bestellung wird automatisch vorgemerkt
. Apotheken-Computer löst Bestellung aus

|Funktionale Anforderungen | [F000]
|===
image::../../../PlantUML-Test/sequence_2.png[]

=== Anwendungsfallbeschreibung: Zugang über PIN

[cols="1,4", options="header"]
|===
|ID | UC003
|Name | Zugang über PIN
|Beschreibung | Arzt oder Arzthelferin gibt eine praxisbezogene PIN ein, um Zugang zur Apotheke zu erhalten. Die Tür öffnet sich nur, wenn keine andere Praxis gleichzeitig Zugriff hat.
|Rollen | Arzt, Arzthelferin, Türsystem, Apotheken-Computer
|Auslöser | Medizinisches Personal benötigt Zugang zu Medikamenten.
|Voraussetzungen | Gültige PIN, kein gleichzeitiger Zugriff durch andere Praxis
|Grundlegende Schritte |
. Arzt/Arzthelferin gibt PIN ein
. System prüft Berechtigung
. Tür öffnet sich
. Medikamente werden entnommen
. System registriert Zugriff

|Funktionale Anforderungen | [F00], [F00]
|===
image::../../../PlantUML-Test/Sequence_1.png[]


=== Anwendungsfallbeschreibung: Verfallene Medikamente erkennen

[cols="1,4", options="header"]
|===
|ID | UC004
|Name | Verfallene Medikamente erkennen
|Beschreibung | Das System prüft regelmäßig, ob Medikamente abgelaufen sind.
|Rollen | Apotheken-Computer
|Auslöser | Wöchentliche Prüfung durch System
|Voraussetzungen | Lagerdaten und Verfallsdaten vorhanden
|Grundlegende Schritte |
. Apotheken-Computer startet Prüfung
. Liste abgelaufener Medikamente wird erstellt
. Apothekenmitarbeiter erhält Bericht
. Medikamente werden aussortiert.
|Funktionale Anforderungen | [F000]
|===

=== Anwendungsfallbeschreibung: Abrechnung mit Zentralkasse

[cols="1,4", options="header"]
|===
|ID | UC005
|Name | Abrechnung mit Zentralkasse
|Beschreibung | Die Zentralkasse erhält monatlich eine Sammelabrechnung.
|Rollen | Kassensystem, Zentralkasse, Apotheken-Computer
|Auslöser | Monatsende erreicht
|Voraussetzungen | Beleg-Daten vorhanden
|Grundlegende Schritte |
. Apotheke speichert alle Kassenvorgänge
. Monatliche Sammelabrechnung wird generiert
. Daten werden an Zentralkasse übertragen
. Zentralkasse bestätigt Zahlung

|Funktionale Anforderungen | [F00], [F00]
|===
=== Anwendungsfallbeschreibung: Spezialpräparat anfordern

[cols="1,4", options="header"]
|===
|ID | UC006
|Name | Spezialpräparat anfordern
|Beschreibung | Der Arzt fordert ein spezielles Medikament an. Der Apothekenmitarbeiter erfasst die Bestellung, das Labor stellt das Präparat her und meldet die Abholbereitschaft.
|Rollen | Arzt, Apothekenmitarbeiter, Labor, Apotheken-Computer
|Auslöser | Arzt fordert ein Spezialpräparat an
|Voraussetzungen | Arzt ist berechtigt, Spezialpräparate zu bestellen
|Grundlegende Schritte |
. Arzt fordert Spezialpräparat an
. Apothekenmitarbeiter erfasst Auftrag
. Auftrag wird an Apotheken-Computer weitergeleitet
. Apotheken-Computer übermittelt Anforderung ans Labor
. Labor stellt das Präparat her
. Labor informiert über Abholbereitschaft
. Apothekenmitarbeiter erhält Rückmeldung

|Funktionale Anforderungen | [F00], [F00]
|===
image::../../../PlantUML-Test/Sequence_3.png[]

=== Anwendungsfallbeschreibung: Medikamente ausliefern

[cols="1,4", options="header"]
|===
|ID | UC007
|Name | Medikamente ausliefern
|Beschreibung | Der Lieferdienst bringt Medikamente an Patienten oder Altersheime.
|Rollen | Lieferdienst, Patient, Apotheken-Computer
|Auslöser | Bestellung zur Lieferung liegt vor
|Voraussetzungen | Adresse, Medikamente verfügbar
|Grundlegende Schritte |
. Bestellung im System
. Lieferung wird geplant
. Medikamente verpackt
. Lieferdienst bringt Medikamente aus
|Funktionale Anforderungen | [F00], [F00]
|===
[cols="1,4", options="header"]
|===
|ID | UC008
|Name | Medikament kaufen
|Beschreibung | Der Kunde wählt rezeptfreie oder rezeptpflichtige Medikamente und bezahlt diese an der Kasse. Das Kassensystem verarbeitet die Zahlung und scannt die Produkte.
|Rollen | Kunde, Kassensystem / Scanner, Zentralkasse
|Auslöser | Kunde legt Medikamente an der Kasse vor
|Voraussetzungen | Medikamente verfügbar im System
|Grundlegende Schritte |
. Kunde legt Medikamente an der Kasse vor
. Kassensystem scannt Barcode der Medikamente
. System berechnet Preis
. Kunde bezahlt (Bar oder mit Karte)
. Bei Kassenpatienten: Zuzahlung, Rest wird mit Zentralkasse abgerechnet
. Quittung wird erstellt

|Funktionale Anforderungen | [F000], [F000]
|===

== Funktionale Anforderungen

=== Muss-Kriterien
Was das zu erstellende Programm auf alle Fälle leisten muss.

=== Kann-Kriterien
Anforderungen die das Programm leisten können soll, aber für den korrekten Betrieb entbehrlich sind.

== Nicht-Funktionale Anforderungen

=== Qualitätsziele

Dokumentieren Sie in einer Tabelle die Qualitätsziele, welche das System erreichen soll, sowie deren Priorität.

=== Konkrete Nicht-Funktionale Anforderungen

Beschreiben Sie Nicht-Funktionale Anforderungen, welche dazu dienen, die zuvor definierten Qualitätsziele zu erreichen.
Achten Sie darauf, dass deren Erfüllung (mindestens theoretisch) messbar sein muss.

== GUI Prototyp

In diesem Kapitel soll ein Entwurf der Navigationsmöglichkeiten und Dialoge des Systems erstellt werden.
Idealerweise entsteht auch ein grafischer Prototyp, welcher dem Kunden zeigt, wie sein System visuell umgesetzt werden soll.
Konkrete Absprachen - beispielsweise ob der grafische Prototyp oder die Dialoglandkarte höhere Priorität hat - sind mit dem Kunden zu treffen.

=== Überblick: Dialoglandkarte
Erstellen Sie ein Übersichtsdiagramm, das das Zusammenspiel Ihrer Masken zur Laufzeit darstellt. Also mit welchen Aktionen zwischen den Masken navigiert wird.
//Die nachfolgende Abbildung zeigt eine an die Pinnwand gezeichnete Dialoglandkarte. Ihre Karte sollte zusätzlich die Buttons/Funktionen darstellen, mit deren Hilfe Sie zwischen den Masken navigieren.

=== Dialogbeschreibung
Für jeden Dialog:

1. Kurze textuelle Dialogbeschreibung eingefügt: Was soll der jeweilige Dialog? Was kann man damit tun? Überblick?
2. Maskenentwürfe (Screenshot, Mockup)
3. Maskenelemente (Ein/Ausgabefelder, Aktionen wie Buttons, Listen, …)
4. Evtl. Maskendetails, spezielle Widgets

== Datenmodell

=== Überblick: Klassendiagramm
UML-Analyseklassendiagramm

=== Klassen und Enumerationen
Dieser Abschnitt stellt eine Vereinigung von Glossar und der Beschreibung von Klassen/Enumerationen dar. Jede Klasse und Enumeration wird in Form eines Glossars textuell beschrieben. Zusätzlich werden eventuellen Konsistenz- und Formatierungsregeln aufgeführt.

// See http://asciidoctor.org/docs/user-manual/#tables
[options="header"]
|===
|Klasse/Enumeration |Beschreibung |
|…                  |…            |
|===

== Akzeptanztestfälle
Mithilfe von Akzeptanztests wird geprüft, ob die Software die funktionalen Erwartungen und Anforderungen im Gebrauch
erfüllt.
Diese sollen und können aus den Anwendungsfallbeschreibungen und den UML-Sequenzdiagrammen abgeleitet werden.
D.h., pro (komplexen) Anwendungsfall gibt es typischerweise mindestens ein Sequenzdiagramm (, welches ein
Szenarium beschreibt). Für jedes Szenarium sollte es einen Akzeptanztestfall geben. Listen Sie alle Akzeptanztestfälle in tabellarischer Form auf.
Jeder Testfall soll mit einer ID versehen werde, um später zwischen den Dokumenten (z.B. im Test-Plan) referenzieren zu können.

== Glossar
Sämtliche Begriffe, die innerhalb des Projektes verwendet werden und deren gemeinsames Verständnis aller beteiligten
Stakeholder essenziell ist, sollten hier aufgeführt werden.
Insbesondere Begriffe der zu implementierenden Domäne wurden bereits beschrieben, jedoch gibt es meist mehr Begriffe, die einer Beschreibung bedürfen. +
Beispiel: Was bedeutet "Kunde"? Ein Nutzer des Systems? Der Kunde des Projektes (Auftraggeber)?

== Offene Punkte
Offene Punkte werden entweder direkt in der Spezifikation notiert. Wenn das Pflichtenheft zum finalen Review vorgelegt wird, sollte es keine offenen Punkte mehr geben.
